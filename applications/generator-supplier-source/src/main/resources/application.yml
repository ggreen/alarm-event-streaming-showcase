server:
  port: 0
  immediate: true
spring:
  application:
    name: "generator-supplier-source"
  cloud:
    function:
      definition: alertSupplier;activitySupplier
    stream:
      function:
        bindings:
          alertSupplier-out-0: alert
          activitySupplier-out-0: activity
      bindings:
        alert:
          destination: alerts.alert
        activity:
          destination: activities.activity
      rabbit:
        bindings:
          alert:
            producer:
              producerType: STREAM_ASYNC
          activity:
            producer:
              producerType: STREAM_ASYNC

generator:
  alert:
    account: system
    levels:
      - "Critical"
      - "High"
      - "Medium"
      - "Low"
    events:
    - Break-in Detected (Alarm Triggered)
    - Garage Door Left Open for >10 min
    -  Smoke Detector Battery Low
    -  Front Door Tamper Detected
    -  System Offline for 5 minutes